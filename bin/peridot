#!/usr/bin/env php
<?php

use Peridot\Console\Application;

$autoload = null;
if (file_exists(__DIR__ . '/../autoload.php')) {
    // peridot is in [project]/vendor/bin
    $autoload = realpath(__DIR__ . '/../autoload.php');
} elseif (file_exists(__DIR__ . '/../vendor/autoload.php')) {
    // peridot is in [project]/bin/
    $autoload = realpath(__DIR__ . '/../vendor/autoload.php');
}

if (!$autoload) {
    print(
        'You need to set up the project dependencies using the following commands:' . PHP_EOL .
        'curl -s http://getcomposer.org/installer | php' . PHP_EOL .
        'php composer.phar install' . PHP_EOL
    );
    exit(1);
}

require_once $autoload;

$application = new Application();
$application->run();
